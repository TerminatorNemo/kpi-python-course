Использовал black для автоматического форматирования
Isort  для правильного висова импортов
Была переписана часть кода для лучшей читабельности или оптимизации. Подробнее в коментариях в самом коде.
C:\Users\arcen\AppData\Local\Programs\Python\Python39\Scripts>black C:\Users\arcen\Desktop\1\rand_gen.py
reformatted C:\Users\arcen\Desktop\1\rand_gen.py
All done! ✨ 🍰 ✨
1 file reformatted.


C:\Users\arcen\AppData\Local\Programs\Python\Python39\Scripts>isort  C:\Users\arcen\Desktop\1\rand_gen.py
Fixing C:\Users\arcen\Desktop\1\rand_gen.py